<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head>
    <title>Admin - All Posts</title>
</head>
<body>
<div layout:fragment="content">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>All Posts</h1>
        <a th:href="@{/admin}" class="btn btn-secondary">Back to Dashboard</a>
    </div>

    <!-- Posts Table -->
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Slug</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Created By</th>
                    <th>Created Date</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="post : ${pagedResult.data}">
                    <td th:text="${post.id}">1</td>
                    <td th:text="${post.title}">Post Title</td>
                    <td th:text="${post.slug}">post-slug</td>
                    <td th:text="${post.category != null ? post.category.name : 'Uncategorized'}">Category</td>
                    <td th:text="${post.status}">PUBLISHED</td>
                    <td th:text="${post.createdBy != null ? post.createdBy.name : 'Unknown'}">Author</td>
                    <td th:text="${#temporals.format(post.createdDate, 'yyyy-MM-dd HH:mm')}">2023-01-01</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div>
        <ul class="pagination">
            <!-- Previous Button -->
            <li th:if="${pagedResult.hasPrevious}" class="page-item">
                <a th:href="@{'/admin/posts?page=' + ${pagedResult.pageNumber - 1}}" class="page-link">Previous</a>
            </li>

            <!-- Page Numbers -->
            <li th:each="i : ${#numbers.sequence(1, pagedResult.totalPages)}" class="page-item" th:classappend="${i == pagedResult.pageNumber} ? 'active'">
                <a th:href="@{'/admin/posts?page=' + ${i}}" class="page-link" th:text="${i}">1</a>
            </li>

            <!-- Next button -->
            <li th:if="${pagedResult.hasNext}" class="page-item">
                <a th:href="@{'/admin/posts?page=' + ${pagedResult.pageNumber + 1}}" class="page-link">Next</a>
            </li>
        </ul>
    </div>
</div>
</body>
</html>